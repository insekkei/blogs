---
layout: post
title:  "ä¸€ä¸ªcopyå¯¹è±¡çš„è¯¡å¼‚ğŸ˜‚é—®é¢˜"
date:   2016-05-30 16:05
categories: js object
---

é‡åˆ°ä¸€ä¸ªè¯¡å¼‚çš„é—®é¢˜ï¼Œç®€å•å†™æˆä»£ç å¦‚ä¸‹ï¼š

    > var o = [{a: 1}, {a: 2}, {a: 3}]; var o2 = o; var o3 = o; o2.splice(0, 1); o3;
    < [Object, Object]

çœŸå®çš„æ•°æ®ç»“æ„æ¯”è¿™ä¸ªå¤æ‚ä¸€äº›...<!--more-->

copyå‡ºo3çš„æœ¬æ„æ˜¯ï¼Œä¿å­˜ä¸€ä¸ªå‰¯æœ¬ä»¥ä¾¿ä¸o2ç»è¿‡å„ç§æ“ä½œåè¿›è¡Œæ¯”è¾ƒã€‚ç„¶è€Œæ¯æ¬¡éå†å–o3é‡Œå€¼ç»„æˆä¸€ä¸ªç®€å•æ•°ç»„æ—¶ï¼Œæ€»ä¼šå‘ç°ï¼Œo3è·Ÿç€o2åŠ¨äº†...

too young too simpleçš„æˆ‘ä»¥ä¸ºè¿™æ˜¯çµå¼‚äº‹ä»¶...è€Œå¿˜äº†â€œä¸–ç•Œä¸Šæ²¡æœ‰æ— ç¼˜æ— æ•…çš„bugâ€è¿™å¥è¯ï¼ˆå—¯ï¼Œè¿™å¥è¯ä¹Ÿæ˜¯æˆ‘æ€»ç»“å‡ºæ¥çš„...ï¼‰ã€‚

äºæ˜¯ï¼Œæˆ‘æŠŠä»£ç é€»è¾‘æ”¹æˆäº†å¦‚ä¸‹å½¢å¼ï¼š
    
    > var o = [{a: 1}, {a: 2}, {a: 3}]; var o2 = o; var o3 = o.map(item => item.a); o2.splice(0,1); o3;
    < [1, 2, 3]

ç›´æ¥ä¿å­˜æˆä¸€ä¸ªç›®æ ‡æ•°ç»„äº†...

é—®é¢˜è™½ç„¶è§£å†³äº†ï¼Œå¯æ˜¯ä¸ºä»€ä¹ˆo3ä¼šè·Ÿç€o2åŠ¨å‘¢ï¼Ÿ

æœ‰ä¸€å¤©ç»„é‡Œçš„å°ä¼™ä¼´æŠ›äº†ä¸€ä¸ªé—®é¢˜åœ¨ç¾¤é‡Œï¼š

    var o = { 
        a: {
            b: 2
        }
    }; 
    var o2 = o;
    o = 1;
    é—®ï¼šo2æ˜¯ä»€ä¹ˆï¼Ÿ

æˆ‘æ ¹æ®ä¸Šæ¬¡çš„ç»éªŒï¼Œæƒ³ä¹Ÿä¸æƒ³ï¼Œå›ç­”ï¼š1

ç„¶è€Œåœ¨æ§åˆ¶å°è¯•äº†ä¸‹ï¼Œæ˜¯ Object {a: Object}...

çœ‹äº†å…¶ä»–å°ä¼™ä¼´çš„å›å¤ï¼Œå†æŸ¥äº†ä¸‹ï¼ŒåŸæ¥ï¼Œ`=` æ“ä½œç¬¦ä¸­ï¼Œå¯¹è±¡å’Œæ•°ç»„æ˜¯å¼•ç”¨ï¼Œå­—ç¬¦ä¸²æ•°å­—æ‰æ˜¯å‰¯æœ¬...ä¹Ÿå°±æ˜¯è¯´ï¼Œo2ï¼Œo3æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªåœ°å€ï¼Œåªæ˜¯åå­—ä¸ä¸€æ ·è€Œå·²...

æˆ‘åˆææƒšåœ°è®°èµ·äº†ä¸€äº›é¢è¯•é¢˜ï¼Œsliceå¤åˆ¶æ•°ç»„ä»€ä¹ˆçš„...object.assignä»€ä¹ˆçš„...

çœ‹æ¥å®è·µéœ€è¦é…åˆç†è®ºå•Š...
