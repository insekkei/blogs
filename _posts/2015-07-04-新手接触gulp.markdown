---
layout: post
title:  "新手接触gulp"
date:   2015-07-04 16:54
categories: gulp js
---

# 全局安装：

$ npm install --global gulp

# 创建一个gulpfile.js文件：

<pre><code>var gulp = require('gulp');

gulp.task('default', function() {
  // place code for your default task here
});</code></pre>

## API

分为四个大的部分：

* gulp.src：定义被操作的源文件（可用*来指定目录、文件类型）

* gulp.task：定义任务，例如压缩、优化、编译等等

* gulp.dest：在指定目录写入（执行任务后）生成的文件

* gulp.watch：当一个文件被修改时，执行某个任务

简单来说就是：哪些文件（src）？进行怎样的操作（task）？结果怎么写入（dest）？例如，创建一个监听所有类型为less的文件的任务，当任何一个less文件被修改时，执行less-pro这个任务。

<pre><code>gulp.task('watch-less', function () {

    gulp.watch('less/*.less', ['less-pro']);

});</code></pre>

less-pro任务片段如下：

<pre><code>gulp.task('less-pro', function () {

	console.log('开始编译');

    //编译过程...

    console.log('结束编译');</code></pre>

# 运行 gulp

$ gulp

如上watch less的例子中，运行：

$ gulp watch-less

